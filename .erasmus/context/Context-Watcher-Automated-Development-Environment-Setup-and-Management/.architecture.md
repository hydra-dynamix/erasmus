# Context Watcher: Automated Development Environment Setup and Management

## Overview

A single-file context watcher for cursor and windsurf, designed to streamline project initialization, development tracking, and version management.

## Directory Structure

- 📁 **/**
  - 📄 **README.md**
  - 📄 **.architecture.md**
  - 📁 **docs/**
    - 📄 **API_REFERENCE.md**
    - 📄 **INTEGRATION_GUIDE.md**
    - 📁 **api/**
      - 📄 **core.md**
    - 📁 **examples/**
      - 📁 **game_sync/**
        - 📄 **.architecture.md**
    - 📁 **guides/**
      - 📄 **integration.md**
  - 📁 **erasmus/**
    - 📄 \***\*init**.py\*\*
    - 📄 \***\*main**.py\*\*
    - 📁 **cli/**
      - 📄 \***\*init**.py\*\*
      - 📄 **commands.py**
      - 📄 **main.py**
      - 📄 **protocol.py**
      - 📄 **setup.py**
    - 📁 **core/**
      - 📄 \***\*init**.py\*\*
      - 📄 **context.py**
      - 📄 **dynamic_updates.py**
      - 📄 **ide_integration.py**
      - 📄 **rule_applicator.py**
      - 📄 **rules.py**
      - 📄 **rules_parser.py**
      - 📄 **task.py**
      - 📄 **watcher.py**
    - 📄 **erasmus.py**
    - 📁 **git/**
      - 📄 \***\*init**.py\*\*
      - 📄 **manager.py**
    - 📁 **ide/**
      - 📄 \***\*init**.py\*\*
      - 📄 **cursor_integration.py**
      - 📄 **sync_integration.py**
    - 📁 **sync/**
      - 📄 \***\*init**.py\*\*
      - 📄 **file_sync.py**
    - 📁 **utils/**
      - 📄 \***\*init**.py\*\*
      - 📄 **context.py**
      - 📄 **env.py**
      - 📄 **env_manager.py**
      - 📄 **file.py**
      - 📄 **file_ops.py**
      - 📄 **logging.py**
      - 📄 **path_constants.py**
      - 📄 **paths.py**
      - 📁 **protocols/**
        - 📄 \***\*init**.py\*\*
        - 📄 **agent_registry.json**
        - 📄 **base.py**
        - 📄 **cli.py**
        - 📄 **context.py**
        - 📄 **example.py**
        - 📄 **integration.py**
        - 📄 **manager.py**
        - 📄 **protocol_cli.py**
        - 📄 **server.py**
        - 📁 **stored/**
          - 📄 **CI_CD Agent.md**
          - 📄 **Code Review Agent.md**
          - 📄 **Debug Agent.md**
          - 📄 **Dependency Agent.md**
          - 📄 **Developer Agent.md**
          - 📄 **Documentation Agent.md**
          - 📄 **Orchestration Agent.md**
          - 📄 **Performance Agent.md**
          - 📄 **Product Owner Agent.json**
          - 📄 **Product Owner Agent.md**
          - 📄 **Security Agent.md**
          - 📄 **Style Agent.md**
          - 📄 **Testing Agent.md**
          - 📄 **agent_workflow.md**
          - 📄 **cidc.md**
          - 📄 **code_review.md**
          - 📄 **debugging.md**
          - 📄 **dependency.md**
          - 📄 **developer.md**
          - 📄 **documentation.md**
          - 📄 **orchestration.md**
          - 📄 **performance.md**
          - 📄 **product_owner.md**
          - 📄 **security.md**
          - 📄 **style.md**
          - 📄 **testing.md**
      - 📄 **protocols.py**
  - 📄 **erasmus.py**
  - 📄 **.progress.md**
  - 📁 **public/**
    - 📄 **flowchart.png**
  - 📄 **pyproject.toml**
  - 📁 **scripts/**
    - 📄 **cleanup.sh**
    - 📄 **setup_gamesync_demo.sh**
    - 📁 **test/**
      - 📄 **test_installer.sh**
  - 📁 **src/**
    - 📄 **collector.py**
    - 📄 **stdlib.py**
  - 📄 **.tasks.md**
  - 📁 **templates/**
    - 📄 **.architecture.md**
    - 📄 **.progress.md**
    - 📄 **.tasks.md**
  - 📁 **tests/**
    - 📄 \***\*init**.py\*\*
    - 📁 **benchmarks/**
      - 📄 \***\*init**.py\*\*
      - 📄 **test_memory_usage.py**
      - 📄 **test_sync_performance.py**
    - 📁 **cli/**
      - 📄 \***\*init**.py\*\*
      - 📄 **test_setup.py**
    - 📄 **conftest.py**
    - 📁 **core/**
      - 📄 \***\*init**.py\*\*
      - 📄 **test_context.py**
      - 📄 **test_dynamic_updates.py**
      - 📄 **test_rule_applicator.py**
      - 📄 **test_rules.py**
      - 📄 **test_rules_parser.py**
      - 📄 **test_task.py**
      - 📄 **test_watcher.py**
      - 📄 **test_watcher_integration.py**
    - 📁 **git/**
      - 📄 \***\*init**.py\*\*
    - 📁 **ide/**
      - 📄 **test_cursor_integration.py**
      - 📄 **test_sync_integration.py**
    - 📁 **packager/**
      - 📄 **test_collector.py**
      - 📄 **test_stdlib.py**
    - 📁 **sync/**
      - 📄 **test_file_sync.py**
    - 📄 **test_file_sync.py**
    - 📄 **test_git_commits.py**
    - 📄 **test_git_manager.py**
    - 📄 **test_utils.py**
    - 📁 **utils/**
      - 📄 \***\*init**.py\*\*
  - 📄 **uv.lock**
  - 📄 **version.json**
  - 📄 **walk.py**

## Key Components

- `watcher.py`: Main application orchestrating project setup and management
- `src/git_manager.py`: Atomic commit git management system
- `.cursorrules` and `.windsurfrules`: Context injection files for respective IDEs

## Technology Stack

### Prerequisites

- **Windows**
  - winget (Microsoft App Installer)
  - Python 3.8+
- **macOS**
  - Homebrew
  - Python 3.8+
- **Linux**
  - curl
  - Python 3.8+

### Package Management

- **Python: `uv` package manager**

  - Windows: Installed via winget
  - macOS: Installed via Homebrew
  - Linux: Installed via curl script
  - Dependency management directly in `watcher.py`
  - Single-script dependency tracking

- **Development Tools**
  - Logging: Rich logging with clear terminal output
  - File Watching: `watchdog` for monitoring context files
  - AI Integration: Local OpenAI client for commit message generation

## Workflow Stages

### 1. Project Initialization

- Create essential project files and directories:
  - `.erasmus/.architecture.md`: Project architecture documentation
  - `.progress.md`: Development progress tracking
  - `.tasks.md`: Granular task management
  - `.IDErules`: Bundled context for IDE integration
  - `global_rules.md`: Global development guidelines
  - `context_watcher.log`: Comprehensive project logs

### 2. Environment Setup

- Virtual Environment Configuration

  - Python:
    - `uv` as package manager
    - `pytest` for comprehensive testing
  - Node:
    - `pnpm` as package manager
    - `jest` for testing
    - `puppeteer` for E2E testing
  - Rust:
    - `cargo` as package manager
    - Native Rust testing framework
    - `mockito` for mocking

- Environment Variable Management
  - Generate `.env.example`
  - Create `.env` with placeholder values

### 3. Development Workflow

- Automated Development Cycle:
  1. Generate tests for current task
  2. Implement task code
  3. Run and validate tests
  4. Iterative error correction
  5. Update task and progress status
  6. Proceed to next component

### 4. Packaging and Distribution

- Single File Installer Requirements
  - All dependencies recorded via `uv`
  - Initialization via `uv run watcher.py --setup IDE_ENVIRONMENT`
  - Cross-platform installation scripts
    - `.sh` for Unix-like systems
    - `.bat` for Windows

### 5. Version Control and Validation

- Repository: https://github.com/bakobiibizo/erasmus
- Versioning system with cryptographic hash validation
- Separate build and release directories

## IDE Compatibility

- cursor: `.cursorrules` context injection
- windsurf: `.windsurfrules` context injection
- Global rules configurable in respective IDE settings

## Project Goal

Consolidate git management into a single, portable `watcher.py` that simplifies project setup and management across different development environments.

## Future Considerations

- Expand IDE compatibility
- Enhance AI-driven development workflows
- Improve cross-platform support
